(function(l,i,n){"use strict";var e=i.Modernizr,t=l("body");l.DLMenu=function(n2,i2){this.$el=l(i2),this._init(n2)},l.DLMenu.defaults={animationClasses:{classin:"dl-animate-in-1",classout:"dl-animate-out-1"},onLevelClick:function(n2,i2){return!1},onLinkClick:function(n2,i2){return!1},backLabel:"Back",useActiveItemAsBackLabel:!1,useActiveItemAsLink:!1,resetOnClose:!0},l.DLMenu.prototype={_init:function(n2){this.options=l.extend(!0,{},l.DLMenu.defaults,n2),this._config(),this.animEndEventName={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[e.prefixed("animation")]+".dlmenu",this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[e.prefixed("transition")]+".dlmenu",this.supportAnimations=e.cssanimations,this.supportTransitions=e.csstransitions,this._initEvents()},_config:function(){this.open=!1,this.$trigger=this.$el.children(".dl-trigger"),this.$menu=this.$el.children("ul.dl-menu"),this.$menuitems=this.$menu.find("li:not(.dl-back)"),this.$el.find("ul.dl-submenu").prepend('<li class="dl-back"><a href="#">'+this.options.backLabel+"</a></li>"),this.$back=this.$menu.find("li.dl-back"),this.options.useActiveItemAsBackLabel&&this.$back.each(function(){var n2=l(this),i2=n2.parents("li:first").find("a:first").text();n2.find("a").html(i2)}),this.options.useActiveItemAsLink&&this.$el.find("ul.dl-submenu").prepend(function(){var n2=l(this).parents("li:not(.dl-back):first").find("a:first");return'<li class="dl-parent"><a href="'+n2.attr("href")+'">'+n2.text()+"</a></li>"})},_initEvents:function(){var a=this;this.$trigger.on("click.dlmenu",function(){return a.open?a._closeMenu():(a._openMenu(),t.off("click").children().on("click.dlmenu",function(){a._closeMenu()})),!1}),this.$menuitems.on("click.dlmenu",function(n2){n2.stopPropagation();var i2=l(this),e2=i2.children("ul.dl-submenu");if(0<e2.length&&!l(n2.currentTarget).hasClass("dl-subviewopen")){var t2=e2.clone().css("opacity",0).insertAfter(a.$menu),s2=function(){a.$menu.off(a.animEndEventName).removeClass(a.options.animationClasses.classout).addClass("dl-subview"),i2.addClass("dl-subviewopen").parents(".dl-subviewopen:first").removeClass("dl-subviewopen").addClass("dl-subview"),t2.remove()};return setTimeout(function(){t2.addClass(a.options.animationClasses.classin),a.$menu.addClass(a.options.animationClasses.classout),a.supportAnimations?a.$menu.on(a.animEndEventName,s2):s2.call(),a.options.onLevelClick(i2,i2.children("a:first").text())}),!1}a.options.onLinkClick(i2,n2)}),this.$back.on("click.dlmenu",function(n2){var i2=l(this),e2=i2.parents("ul.dl-submenu:first"),t2=e2.parent(),s2=e2.clone().insertAfter(a.$menu),o=function(){a.$menu.off(a.animEndEventName).removeClass(a.options.animationClasses.classin),s2.remove()};return setTimeout(function(){s2.addClass(a.options.animationClasses.classout),a.$menu.addClass(a.options.animationClasses.classin),a.supportAnimations?a.$menu.on(a.animEndEventName,o):o.call(),t2.removeClass("dl-subviewopen");var n3=i2.parents(".dl-subview:first");n3.is("li")&&n3.addClass("dl-subviewopen"),n3.removeClass("dl-subview")}),!1})},closeMenu:function(){this.open&&this._closeMenu()},_closeMenu:function(){var n2=this,i2=function(){n2.$menu.off(n2.transEndEventName),n2.options.resetOnClose&&n2._resetMenu()};this.$menu.removeClass("dl-menuopen"),this.$menu.addClass("dl-menu-toggle"),this.$trigger.removeClass("dl-active"),this.supportTransitions?this.$menu.on(this.transEndEventName,i2):i2.call(),this.open=!1},openMenu:function(){this.open||this._openMenu()},_openMenu:function(){var n2=this;t.off("click").on("click.dlmenu",function(){n2._closeMenu()}),this.$menu.addClass("dl-menuopen dl-menu-toggle").on(this.transEndEventName,function(){l(this).removeClass("dl-menu-toggle")}),this.$trigger.addClass("dl-active"),this.open=!0},_resetMenu:function(){this.$menu.removeClass("dl-subview"),this.$menuitems.removeClass("dl-subview dl-subviewopen")}};var s=function(n2){i.console&&i.console.error(n2)};l.fn.dlmenu=function(i2){if(typeof i2=="string"){var e2=Array.prototype.slice.call(arguments,1);this.each(function(){var n2=l.data(this,"dlmenu");n2?l.isFunction(n2[i2])&&i2.charAt(0)!=="_"?n2[i2].apply(n2,e2):s("no such method '"+i2+"' for dlmenu instance"):s("cannot call methods on dlmenu prior to initialization; attempted to call method '"+i2+"'")})}else this.each(function(){var n2=l.data(this,"dlmenu");n2?n2._init():n2=l.data(this,"dlmenu",new l.DLMenu(i2,this))});return this}})(jQuery,window);
//# sourceMappingURL=/cdn/shop/t/33/assets/jquery.dlmenu.js.map?v=84071848359167876331643261349
